{"version":3,"file":"loading.js","sourceRoot":"lib/","sources":["__builtins__/loading.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gDAAyB;AACzB,oDAAsD;AAE/C,IAAM,OAAO,GAAG,UACrB,KAAqC,EACrC,SAA6B;IAD7B,sBAAA,EAAA,oBAAqC;;;;;;oBAGjC,IAAI,GAAG,IAAI,CAAA;oBACX,OAAO,GAAG,UAAU,CAAC;wBACvB,IAAI,GAAG,mBAAO,CAAC,IAAI,CAAC;4BAClB,OAAO,EAAE,KAAK;4BACd,IAAI,EAAE,8BAAC,gBAAI,OAAG;4BACd,QAAQ,EAAE,GAAG;yBACd,CAAC,CAAA;oBACJ,CAAC,EAAE,GAAG,CAAC,CAAA;;;;oBAEE,qBAAM,SAAS,EAAE,EAAA;wBAAxB,sBAAO,SAAiB,EAAA;;oBAExB,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAG,IAAI,CAAC,CAAA;oBACZ,YAAY,CAAC,OAAO,CAAC,CAAA;;;;;;CAExB,CAAA;AAlBY,QAAA,OAAO,WAkBnB","sourcesContent":["import React from 'react'\nimport { Spin, Message } from '@arco-design/web-react'\n\nexport const loading = async (\n  title: React.ReactNode = 'Loading...',\n  processor: () => Promise<any>\n) => {\n  let hide = null\n  let loading = setTimeout(() => {\n    hide = Message.info({\n      content: title,\n      icon: <Spin />,\n      duration: 300,\n    })\n  }, 100)\n  try {\n    return await processor()\n  } finally {\n    hide?.(hide)\n    clearTimeout(loading)\n  }\n}\n"]}