{"version":3,"file":"index2.js","sourceRoot":"lib/","sources":["form-item/index2.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { isVoidField } from \"@formily/core\";\nimport { connect, mapProps } from \"@formily/react\";\nimport { Typography, Space } from \"@arco-design/web-react\";\n\nconst BaseItem = ({ children, readPretty, ...props }) => {\n  if (!readPretty) {\n    return React.cloneElement(children, props ?? {});\n  } else {\n    return (\n      <Typography.Paragraph>\n        <Space>\n          {props.title}:{React.cloneElement(children, props)}\n        </Space>\n      </Typography.Paragraph>\n    );\n  }\n};\n\nexport const FormItem: any = connect(\n  BaseItem,\n  mapProps(\n    { validateStatus: true, title: true, required: true },\n    // translate label\n    (props: any, field) => {\n      if (isVoidField(field)) return props;\n      if (!field) return props;\n\n      if (!props.title) {\n        const titleTxt = props.children.props.label;\n        return {\n          title: typeof titleTxt === \"string\" ? titleTxt : titleTxt.text,\n        };\n      } else {\n        return {\n          label: { text: props.title, required: props.required },\n        };\n      }\n    },\n    // translate field(semi form item field)\n    (props: any, field) => {\n      if (isVoidField(field)) return props;\n      if (!field) return props;\n      return {\n        field: field.props.name,\n      };\n    },\n    (props: any, field) => {\n      if (isVoidField(field)) return props;\n      if (!field) return props;\n      const takeMessage = () => {\n        const split = (messages: any[]) => {\n          return messages.reduce((buf, text, index) => {\n            if (!text) return buf;\n            return index < messages.length - 1\n              ? buf.concat([text, \", \"])\n              : buf.concat([text]);\n          }, []);\n        };\n        if (field.validating) return;\n        if (props.feedbackText) return props.feedbackText;\n        if (field.errors.length) return split(field.errors);\n        if (field.warnings.length) return split(field.warnings);\n        if (field.successes.length) return split(field.successes);\n      };\n\n      return {\n        feedbackText: takeMessage(),\n        extra: props.extra || field.description,\n      };\n    },\n    (props: any, field) => {\n      if (isVoidField(field)) return props;\n      if (!field) return props;\n      return {\n        feedbackStatus:\n          field.validateStatus === \"validating\"\n            ? \"pending\"\n            : field.decorator[1]?.feedbackStatus || field.validateStatus,\n      };\n    },\n    (props: any, field) => {\n      if (isVoidField(field)) return props;\n      if (!field) return props;\n      let asterisk = false;\n      const readPretty = Boolean(field.readPretty);\n      if (field.required && field.pattern !== \"readPretty\") {\n        asterisk = true;\n      }\n      if (\"asterisk\" in props) {\n        asterisk = props.asterisk ?? false;\n      }\n      return {\n        asterisk,\n        readPretty,\n      };\n    }\n  )\n);\n\nFormItem.BaseItem = BaseItem;\n\nexport default FormItem;\n"]}