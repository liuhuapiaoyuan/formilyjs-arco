{"version":3,"file":"index.js","sourceRoot":"lib/","sources":["form-item/index.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAA;AAC/C,OAAO,GAAG,MAAM,YAAY,CAAA;AAC5B,OAAO,EAAE,YAAY,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAA;AAC7D,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAA;AAC3C,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAW,MAAM,gBAAgB,CAAA;AAC3D,OAAO,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAA;AACxC,OAAO,EACL,aAAa,EACb,oBAAoB,EACpB,wBAAwB,GACzB,MAAM,gBAAgB,CAAA;AACvB,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAA;AAC1C,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,wBAAwB,CAAA;AACzD,OAAO,EACL,UAAU,EACV,eAAe,EACf,cAAc,EACd,kBAAkB,GACnB,MAAM,6BAA6B,CAAA;AAGpC,OAAO,cAAc,CAAA;AA0CrB,IAAM,iBAAiB,GAAG,UAAC,KAAqB;;IAC9C,IAAM,iBAAiB,GAAG,oBAAoB,EAAE,CAAA;IAChD,IAAM,UAAU,GAAG,aAAa,EAAE,CAAA;IAClC,IAAM,MAAM,yBAAQ,iBAAiB,GAAK,UAAU,CAAE,CAAA;IACtD,6BACK,KAAK,KACR,MAAM,EAAE,MAAA,MAAA,KAAK,CAAC,MAAM,mCAAI,MAAM,CAAC,MAAM,mCAAI,YAAY,EACrD,KAAK,EAAE,MAAA,KAAK,CAAC,KAAK,mCAAI,MAAM,CAAC,KAAK,EAClC,UAAU,EACR,MAAM,CAAC,MAAM,KAAK,UAAU;YAC1B,CAAC,CAAC,MAAA,MAAA,KAAK,CAAC,UAAU,mCAAI,MAAM,CAAC,UAAU,mCAAI,MAAM;YACjD,CAAC,CAAC,MAAA,MAAA,KAAK,CAAC,UAAU,mCAAI,MAAM,CAAC,UAAU,mCAAI,OAAO,EACtD,SAAS,EAAE,MAAA,KAAK,CAAC,SAAS,mCAAI,MAAM,CAAC,SAAS,EAC9C,UAAU,EAAE,MAAA,KAAK,CAAC,UAAU,mCAAI,MAAM,CAAC,UAAU,EACjD,YAAY,EAAE,MAAA,KAAK,CAAC,YAAY,mCAAI,MAAM,CAAC,YAAY,EACvD,QAAQ,EAAE,MAAA,KAAK,CAAC,QAAQ,mCAAI,MAAM,CAAC,QAAQ,EAC3C,UAAU,EAAE,MAAA,KAAK,CAAC,UAAU,mCAAI,MAAM,CAAC,UAAU,EACjD,YAAY,EAAE,MAAA,KAAK,CAAC,YAAY,mCAAI,MAAM,CAAC,YAAY,EACvD,WAAW,EAAE,MAAA,KAAK,CAAC,WAAW,mCAAI,MAAM,CAAC,WAAW,EACpD,QAAQ,EAAE,MAAA,KAAK,CAAC,QAAQ,mCAAI,MAAM,CAAC,QAAQ,EAC3C,IAAI,EAAE,MAAA,KAAK,CAAC,IAAI,mCAAI,MAAM,CAAC,IAAI,EAC/B,KAAK,EAAE,MAAA,KAAK,CAAC,KAAK,mCAAI,MAAM,CAAC,KAAK,EAClC,QAAQ,EAAE,KAAK,CAAC,QAAQ,EACxB,QAAQ,EAAE,MAAA,KAAK,CAAC,QAAQ,mCAAI,MAAM,CAAC,QAAQ,EAC3C,YAAY,EAAE,KAAK,CAAC,YAAY,EAChC,cAAc,EAAE,MAAA,MAAA,KAAK,CAAC,cAAc,mCAAI,MAAM,CAAC,cAAc,mCAAI,OAAO,EACxE,aAAa,EAAE,MAAA,MAAA,KAAK,CAAC,aAAa,mCAAI,MAAM,CAAC,aAAa,mCAAI,MAAM,EACpE,SAAS,EACP,KAAK,CAAC,SAAS,KAAK,KAAK,IAAI,MAAM,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,IAC1E;AACH,CAAC,CAAA;AAED,IAAM,QAAQ,GAAG;IACf,KAAK,EAAE,oBAAC,UAAU,OAAG;IACrB,OAAO,EAAE,oBAAC,eAAe,OAAG;IAC5B,OAAO,EAAE,oBAAC,cAAc,OAAG;CAC5B,CAAA;AAED,MAAM,CAAC,IAAM,QAAQ,GAA6B,UAAC,KAAK;;;IAC9C,IAAA,QAAQ,GAAgB,KAAK,SAArB,EAAK,MAAM,UAAK,KAAK,EAA/B,YAAuB,CAAF,CAAU;IAC/B,IAAA,KAAA,OAAsB,QAAQ,CAAC,KAAK,CAAC,IAAA,EAApC,MAAM,QAAA,EAAE,SAAS,QAAmB,CAAA;IAC3C,IAAM,mBAAmB,GAAG,MAAM,EAAE,CAAA;IACpC,IAAM,UAAU,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAA;IAC5C,IAAM,iBAAiB,GAAG,oBAAoB,EAAE,CAAA;IAE9C,IAAA,KAAK,GA4BH,UAAU,MA5BP,EACL,KAAK,GA2BH,UAAU,MA3BP,EACL,MAAM,GA0BJ,UAAU,OA1BN,EACN,KAyBE,UAAU,MAzBC,EAAb,KAAK,mBAAG,KAAK,KAAA,EACb,WAAW,GAwBT,UAAU,YAxBD,EACX,UAAU,GAuBR,UAAU,WAvBF,EACV,QAAQ,GAsBN,UAAU,SAtBJ,EACR,KAqBE,UAAU,eArBc,EAA1B,cAAc,mBAAG,SAAS,KAAA,EAC1B,KAAK,GAoBH,UAAU,MApBP,EACL,YAAY,GAmBV,UAAU,aAnBA,EACZ,QAAQ,GAkBN,UAAU,SAlBJ,EACR,cAAc,GAiBZ,UAAU,eAjBE,EACd,YAAY,GAgBV,UAAU,aAhBA,EACZ,KAAK,GAeH,UAAU,MAfP,EACL,KAcE,UAAU,SAdG,EAAf,QAAQ,mBAAG,IAAI,KAAA,EACf,UAAU,GAaR,UAAU,WAbF,EACV,YAAY,GAYV,UAAU,aAZA,EACZ,QAAQ,GAWN,UAAU,SAXJ,EACR,UAAU,GAUR,UAAU,WAVF,EACV,UAAU,GASR,UAAU,WATF,EACV,KAQE,UAAU,aARS,EAArB,YAAY,mBAAG,MAAM,KAAA,EACrB,IAAI,GAOF,UAAU,KAPR,EACJ,SAAS,GAMP,UAAU,UANH,EACT,WAAW,GAKT,UAAU,YALD,EACX,OAAO,GAIL,UAAU,QAJL,EACP,KAGE,UAAU,aAHK,EAAjB,YAAY,mBAAG,EAAE,KAAA,EACjB,aAAa,GAEX,UAAU,cAFC,EACb,SAAS,GACP,UAAU,UADH,CACG;IACd,IAAM,UAAU,gBAAQ,UAAU,CAAC,UAAU,CAAE,CAAA;IAC/C,IAAM,YAAY,gBAAQ,UAAU,CAAC,YAAY,CAAE,CAAA;IACnD,OAAO;IACP,IAAI,SAAS,GAAG,KAAK,CAAA;IACrB,IAAI,UAAU,IAAI,YAAY,EAAE;QAC9B,IAAI,UAAU,EAAE;YACd,UAAU,CAAC,KAAK,GAAG,UAAU,CAAA;YAC7B,UAAU,CAAC,QAAQ,GAAG,UAAU,CAAA;SACjC;QACD,IAAI,YAAY,EAAE;YAChB,YAAY,CAAC,KAAK,GAAG,YAAY,CAAA;YACjC,YAAY,CAAC,QAAQ,GAAG,YAAY,CAAA;SACrC;QACD,OAAO;KACR;SAAM,IAAI,QAAQ,IAAI,UAAU,EAAE;QACjC,SAAS,GAAG,IAAI,CAAA;KACjB;IAED,IAAM,SAAS,GAAG,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;IAC7C,IAAM,gBAAgB,GAAG,YAAY,CAAC,EAAE,EAAE,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,CAAA;IAEpE,IAAM,cAAc,GAClB,cAAc,KAAK,SAAS,CAAC,CAAC,CAAC,CAC7B,oBAAC,OAAO,IACN,QAAQ,EAAC,KAAK,EACd,iBAAiB,EAAE,cAAM,OAAA,mBAAmB,CAAC,OAAc,EAAlC,CAAkC,EAC3D,OAAO,EACL,6BACE,SAAS,EAAE,GAAG;gBACZ,GAAC,UAAG,SAAS,cAAI,cAAc,UAAO,IAAG,CAAC,CAAC,cAAc;gBACzD,GAAC,UAAG,SAAS,UAAO,IAAG,IAAI;oBAC3B;YAEA,QAAgB,CAAC,cAAc,CAAC;;YAAG,YAAY,CAC7C,EAER,YAAY,EAAE,CAAC,CAAC,YAAY,IAE3B,QAAe,CACR,CACX,CAAC,CAAC,CAAC,CACF,QAAQ,CACT,CAAA;IAEH,IAAM,aAAa,GAAG,CACpB,6BAAK,SAAS,EAAE,GAAG,CAAC,UAAG,SAAS,mBAAgB,CAAC;QAC/C,mCAAQ,KAAK,CAAS;QACrB,QAAQ,IAAI,8BAAM,SAAS,EAAE,GAAG,CAAC,UAAG,SAAS,cAAW,CAAC,IAAG,GAAG,CAAQ,CACpE,CACP,CAAA;IACD,OAAO,CACL,wCACM,aAAa,CAAC,KAAK,CAAC,IACxB,GAAG,EAAE,mBAA0B,EAC/B,KAAK,wBACA,KAAK,KACR,eAAe,EAAE,eAAQ,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAE,KAExD,SAAS,EAAE,GAAG;YACZ,GAAC,UAAG,SAAS,CAAE,IAAG,IAAI;YACtB,4EAA4E;YAC5E,GAAC,UAAG,gBAAgB,CAAE,IAAG,SAAS,KAAK,KAAK;YAC5C,GAAC,UAAG,SAAS,qBAAW,MAAM,CAAE,IAAG,IAAI;YACvC,GAAC,UAAG,SAAS,cAAI,cAAc,CAAE,IAAG,CAAC,CAAC,cAAc;YACpD,GAAC,UAAG,SAAS,uBAAoB,IAAG,CAAC,CAAC,YAAY;YAClD,GAAC,UAAG,SAAS,mBAAS,IAAI,CAAE,IAAG,CAAC,CAAC,IAAI;YACrC,GAAC,UAAG,SAAS,8BAAoB,cAAc,CAAE,IAAG,CAAC,CAAC,cAAc;YACpE,GAAC,UAAG,SAAS,cAAW,IAAG,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,YAAY;YAClE,GAAC,UAAG,SAAS,WAAQ,IAAG,CAAC,CAAC,KAAK;YAC/B,GAAC,UAAG,SAAS,YAAS,IAAG,MAAM;YAC/B,GAAC,UAAG,SAAS,kBAAe,IAAG,CAAC,CAAC,KAAK,IAAI,MAAM;YAChD,GAAC,UAAG,SAAS,0BAAgB,UAAU,CAAE,IAAG,IAAI;YAChD,GAAC,UAAG,SAAS,4BAAkB,YAAY,CAAE,IAAG,IAAI;YACpD,GAAC,UAAG,SAAS,gBAAa,IAAG,CAAC,CAAC,SAAS;YACxC,GAAC,UAAG,SAAS,kBAAe,IAAG,CAAC,CAAC,WAAW;YAC5C,GAAC,UAAG,SAAS,mBAAgB,IAC3B,QAAQ,KAAK,KAAK,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,YAAY;YACjD,GAAC,MAAA,KAAK,CAAC,SAAS,mCAAI,EAAE,IAAG,CAAC,CAAC,KAAK,CAAC,SAAS;gBAC1C,EACF,OAAO,EAAE;YACP,IAAI,YAAY,IAAI,KAAK,EAAE;gBACzB,SAAS,CAAC,IAAI,CAAC,CAAA;aAChB;QACH,CAAC,EACD,MAAM,EAAE;YACN,IAAI,YAAY,IAAI,KAAK,EAAE;gBACzB,SAAS,CAAC,KAAK,CAAC,CAAA;aACjB;QACH,CAAC;QAEA,KAAK,KAAK,SAAS,IAAI,CACtB,6BACE,SAAS,EAAE,GAAG;gBACZ,GAAC,UAAG,SAAS,WAAQ,IAAG,IAAI;gBAC5B,GAAC,UAAG,SAAS,mBAAgB,IAAG,OAAO,IAAI,aAAa,KAAK,MAAM;gBACnE,GAAC,UAAG,SAAS,uBAAa,QAAQ,CAAE,IAAG,SAAS,IAAI,CAAC,CAAC,QAAQ;oBAC9D,EACF,KAAK,EAAE,UAAU;YAEhB,aAAa,KAAK,MAAM,CAAC,CAAC,CAAC,CAC1B,oBAAC,OAAO,aACN,QAAQ,EAAC,KAAK,EACd,OAAO,EAAE,OAAO,EAChB,iBAAiB,EAAE,cAAM,OAAA,mBAAmB,CAAC,OAAc,EAAlC,CAAkC,IACvD,YAAY,GAEf,aAAa,CACN,CACX,CAAC,CAAC,CAAC,CACF,aAAa,CACd;YACA,OAAO,IAAI,aAAa,KAAK,MAAM,IAAI,CACtC,8BAAM,SAAS,EAAE,GAAG,CAAC,UAAG,SAAS,mBAAgB,CAAC;gBAChD,oBAAC,OAAO,aACN,QAAQ,EAAC,KAAK,EACd,OAAO,EAAE,OAAO,EAChB,iBAAiB,EAAE,cAAM,OAAA,mBAAmB,CAAC,OAAc,EAAlC,CAAkC,IACvD,YAAY;oBAEhB,oBAAC,kBAAkB,OAAG,CACd,CACL,CACR;YACA,KAAK,IAAI,CACR,8BAAM,SAAS,EAAE,GAAG,CAAC,UAAG,SAAS,WAAQ,CAAC,IACvC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CACZ,CACR,CACG,CACP;QAED,6BACE,SAAS,EAAE,GAAG;gBACZ,GAAC,UAAG,SAAS,aAAU,IAAG,IAAI;gBAC9B,GAAC,UAAG,SAAS,uBAAa,UAAU,CAAE,IACpC,SAAS,IAAI,CAAC,CAAC,UAAU,IAAI,KAAK;oBACpC;YAEF,6BAAK,SAAS,EAAE,GAAG,CAAC,UAAG,SAAS,qBAAkB,CAAC;gBAChD,WAAW,IAAI,CACd,6BAAK,SAAS,EAAE,GAAG,CAAC,UAAG,SAAS,kBAAe,CAAC,IAC7C,WAAW,CACR,CACP;gBACD,6BACE,KAAK,EAAE,YAAY,EACnB,SAAS,EAAE,GAAG;wBACZ,GAAC,UAAG,SAAS,+BAA4B,IAAG,IAAI;wBAChD,GAAC,UAAG,SAAS,iDAA8C,IACzD,CAAC,CAAC,YAAY;4BAChB;oBAEF,oBAAC,wBAAwB,CAAC,QAAQ,IAChC,KAAK,EAAE,MAAM,CACX,iBAAiB,EACjB,UAAC,GAAQ,EAAE,CAAC,EAAE,GAAG;4BACf,IAAI,GAAG,KAAK,MAAM,EAAE;gCAClB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAA;6BAChB;iCAAM;gCACL,GAAG,CAAC,GAAG,CAAC,GAAG,SAAS,CAAA;6BACrB;4BACD,OAAO,GAAG,CAAA;wBACZ,CAAC,EACD;4BACE,IAAI,MAAA;yBACL,CACF,IAEA,cAAc,CACmB;oBACnC,YAAY,IAAI,CACf,6BAAK,SAAS,EAAE,GAAG,CAAC,UAAG,SAAS,mBAAgB,CAAC,IAC9C,YAAY,CACT,CACP,CACG;gBACL,UAAU,IAAI,CACb,6BAAK,SAAS,EAAE,GAAG,CAAC,UAAG,SAAS,iBAAc,CAAC,IAAG,UAAU,CAAO,CACpE,CACG;YACL,CAAC,CAAC,YAAY;gBACb,cAAc,KAAK,SAAS;gBAC5B,cAAc,KAAK,MAAM,IAAI,CAC3B,6BACE,SAAS,EAAE,GAAG;oBACZ,GAAC,UAAG,SAAS,cAAI,cAAc,UAAO,IAAG,CAAC,CAAC,cAAc;oBACzD,GAAC,UAAG,SAAS,UAAO,IAAG,IAAI;oBAC3B,GAAC,UAAG,SAAS,gBAAa,IAAG,IAAI;oBACjC,GAAC,UAAG,SAAS,uBAAoB,IAAG,IAAI;wBACxC,IAED,YAAY,CACT,CACP;YACF,KAAK,IAAI,6BAAK,SAAS,EAAE,GAAG,CAAC,UAAG,SAAS,WAAQ,CAAC,IAAG,KAAK,CAAO,CAC9D,CACF,CACP,CAAA;AACH,CAAC,CAAA;AACD,MAAM,CAAC,IAAM,QAAQ,GAAoB,MAAM,CAAC,MAAM,CACpD,OAAO,CACL,QAAQ,EACR,QAAQ,CAAC,UAAC,KAAK,EAAE,KAAK;IACpB,IAAI,WAAW,CAAC,KAAK,CAAC;QACpB,OAAO;YACL,KAAK,EAAE,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK;YACjC,QAAQ,EAAE,KAAK,CAAC,QAAQ;YACxB,KAAK,EAAE,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,WAAW;SACxC,CAAA;IACH,IAAI,CAAC,KAAK;QAAE,OAAO,KAAK,CAAA;IACxB,IAAM,kBAAkB,GAAG;QACzB,IAAI,KAAK,CAAC,UAAU;YAAE,OAAO,SAAS,CAAA;QACtC,OAAO,KAAK,CAAC,cAAc,CAAC,cAAc,IAAI,KAAK,CAAC,cAAc,CAAA;IACpE,CAAC,CAAA;IACD,IAAM,WAAW,GAAG;QAClB,IAAM,KAAK,GAAG,UAAC,QAAe;YAC5B,OAAO,QAAQ,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,IAAI,EAAE,KAAK;gBACtC,IAAI,CAAC,IAAI;oBAAE,OAAO,GAAG,CAAA;gBACrB,OAAO,KAAK,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC;oBAChC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBAC1B,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;YACxB,CAAC,EAAE,EAAE,CAAC,CAAA;QACR,CAAC,CAAA;QACD,IAAI,KAAK,CAAC,UAAU;YAAE,OAAM;QAC5B,IAAI,KAAK,CAAC,YAAY;YAAE,OAAO,KAAK,CAAC,YAAY,CAAA;QACjD,IAAI,KAAK,CAAC,UAAU,CAAC,MAAM;YAAE,OAAO,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;QAC3D,IAAI,KAAK,CAAC,YAAY,CAAC,MAAM;YAAE,OAAO,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,CAAA;QAC/D,IAAI,KAAK,CAAC,aAAa,CAAC,MAAM;YAAE,OAAO,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,CAAA;IACnE,CAAC,CAAA;IACD,IAAM,YAAY,GAAG;QACnB,IAAI,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,OAAO,KAAK,YAAY,EAAE;YACpD,OAAO,IAAI,CAAA;SACZ;QACD,IAAI,UAAU,IAAI,KAAK,EAAE;YACvB,OAAO,KAAK,CAAC,QAAQ,CAAA;SACtB;QACD,OAAO,KAAK,CAAA;IACd,CAAC,CAAA;IACD,OAAO;QACL,KAAK,EAAE,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK;QACjC,cAAc,EAAE,kBAAkB,EAAE;QACpC,YAAY,EAAE,WAAW,EAAE;QAC3B,QAAQ,EAAE,YAAY,EAAE;QACxB,KAAK,EAAE,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,WAAW;KACxC,CAAA;AACH,CAAC,CAAC,CACH,EACD;IACE,QAAQ,UAAA;CACT,CACF,CAAA;AACD,eAAe,QAAQ,CAAA","sourcesContent":["import React, { useRef, useState } from 'react'\nimport cls from 'classnames'\nimport { usePrefixCls, pickDataProps } from '../__builtins__'\nimport { isVoidField } from '@formily/core'\nimport { connect, mapProps, ReactFC } from '@formily/react'\nimport { reduce } from '@formily/shared'\nimport {\n  useFormLayout,\n  useFormShallowLayout,\n  FormLayoutShallowContext,\n} from '../form-layout'\nimport { useGridSpan } from '../form-grid'\nimport { Popover, Tooltip } from '@arco-design/web-react'\nimport {\n  IconDelete,\n  IconRightCircle,\n  IconInfoCircle,\n  IconQuestionCircle,\n} from '@arco-design/web-react/icon'\nimport { TooltipProps } from '@arco-design/web-react/es/tooltip'\n\nimport './index.scss'\n\nexport interface IFormItemProps {\n  layout?: 'vertical' | 'horizontal' | 'inline'\n  className?: string\n  style?: React.CSSProperties\n  prefixCls?: string\n  label?: React.ReactNode\n  colon?: boolean\n  tooltip?: boolean\n  tooltipProps?: TooltipProps\n  tooltipLayout?: 'icon' | 'text'\n  labelStyle?: React.CSSProperties\n  labelAlign?: 'left' | 'right'\n  labelWrap?: boolean\n  labelWidth?: number | string\n  wrapperWidth?: number | string\n  labelCol?: number\n  wrapperCol?: number\n  wrapperAlign?: 'left' | 'right'\n  wrapperWrap?: boolean\n  wrapperStyle?: React.CSSProperties\n  fullness?: boolean\n  addonBefore?: React.ReactNode\n  addonAfter?: React.ReactNode\n  size?: 'small' | 'default' | 'large'\n  inset?: boolean\n  extra?: React.ReactNode\n  feedbackText?: React.ReactNode\n  feedbackLayout?: 'loose' | 'terse' | 'popover' | 'none' | (string & {})\n  feedbackStatus?: 'error' | 'warning' | 'success' | 'pending' | (string & {})\n  feedbackIcon?: React.ReactNode\n  asterisk?: boolean\n  gridSpan?: number\n  bordered?: boolean\n  direction?: 'rtl' | 'ltr'\n}\n\ntype ComposeFormItem = ReactFC<IFormItemProps> & {\n  BaseItem?: ReactFC<IFormItemProps>\n}\n\nconst useFormItemLayout = (props: IFormItemProps) => {\n  const shallowFormLayout = useFormShallowLayout()\n  const formLayout = useFormLayout()\n  const layout = { ...shallowFormLayout, ...formLayout }\n  return {\n    ...props,\n    layout: props.layout ?? layout.layout ?? 'horizontal',\n    colon: props.colon ?? layout.colon,\n    labelAlign:\n      layout.layout === 'vertical'\n        ? props.labelAlign ?? layout.labelAlign ?? 'left'\n        : props.labelAlign ?? layout.labelAlign ?? 'right',\n    labelWrap: props.labelWrap ?? layout.labelWrap,\n    labelWidth: props.labelWidth ?? layout.labelWidth,\n    wrapperWidth: props.wrapperWidth ?? layout.wrapperWidth,\n    labelCol: props.labelCol ?? layout.labelCol,\n    wrapperCol: props.wrapperCol ?? layout.wrapperCol,\n    wrapperAlign: props.wrapperAlign ?? layout.wrapperAlign,\n    wrapperWrap: props.wrapperWrap ?? layout.wrapperWrap,\n    fullness: props.fullness ?? layout.fullness,\n    size: props.size ?? layout.size,\n    inset: props.inset ?? layout.inset,\n    asterisk: props.asterisk,\n    bordered: props.bordered ?? layout.bordered,\n    feedbackIcon: props.feedbackIcon,\n    feedbackLayout: props.feedbackLayout ?? layout.feedbackLayout ?? 'loose',\n    tooltipLayout: props.tooltipLayout ?? layout.tooltipLayout ?? 'icon',\n    direction:\n      props.direction === 'rtl' && layout.direction !== 'rtl' ? 'rtl' : 'ltr',\n  }\n}\n\nconst ICON_MAP = {\n  error: <IconDelete />,\n  success: <IconRightCircle />,\n  warning: <IconInfoCircle />,\n}\n\nexport const BaseItem: React.FC<IFormItemProps> = (props) => {\n  const { children, ...others } = props\n  const [active, setActice] = useState(false)\n  const popoverContainerRef = useRef()\n  const formLayout = useFormItemLayout(others)\n  const shallowFormLayout = useFormShallowLayout()\n  const {\n    label,\n    style,\n    layout,\n    colon = false,\n    addonBefore,\n    addonAfter,\n    asterisk,\n    feedbackStatus = 'success',\n    extra,\n    feedbackText,\n    fullness,\n    feedbackLayout,\n    feedbackIcon,\n    inset,\n    bordered = true,\n    labelWidth,\n    wrapperWidth,\n    labelCol,\n    wrapperCol,\n    labelAlign,\n    wrapperAlign = 'left',\n    size,\n    labelWrap,\n    wrapperWrap,\n    tooltip,\n    tooltipProps = {},\n    tooltipLayout,\n    direction,\n  } = formLayout\n  const labelStyle = { ...formLayout.labelStyle }\n  const wrapperStyle = { ...formLayout.wrapperStyle }\n  // 固定宽度\n  let enableCol = false\n  if (labelWidth || wrapperWidth) {\n    if (labelWidth) {\n      labelStyle.width = labelWidth\n      labelStyle.maxWidth = labelWidth\n    }\n    if (wrapperWidth) {\n      wrapperStyle.width = wrapperWidth\n      wrapperStyle.maxWidth = wrapperWidth\n    }\n    // 栅格模式\n  } else if (labelCol || wrapperCol) {\n    enableCol = true\n  }\n\n  const prefixCls = usePrefixCls('item', props)\n  const semiRtlPrefixCls = usePrefixCls('', { prefixCls: 'semi-rtl' })\n\n  const formatChildren =\n    feedbackLayout === 'popover' ? (\n      <Popover\n        position=\"top\"\n        getPopupContainer={() => popoverContainerRef.current as any}\n        content={\n          <div\n            className={cls({\n              [`${prefixCls}-${feedbackStatus}-help`]: !!feedbackStatus,\n              [`${prefixCls}-help`]: true,\n            })}\n          >\n            {(ICON_MAP as any)[feedbackStatus]} {feedbackText}\n          </div>\n        }\n        popupVisible={!!feedbackText}\n      >\n        {children as any}\n      </Popover>\n    ) : (\n      children\n    )\n\n  const labelChildren = (\n    <div className={cls(`${prefixCls}-label-content`)}>\n      <label>{label}</label>\n      {asterisk && <span className={cls(`${prefixCls}-asterisk`)}>{'*'}</span>}\n    </div>\n  )\n  return (\n    <div\n      {...pickDataProps(props)}\n      ref={popoverContainerRef as any}\n      style={{\n        ...style,\n        gridColumnStart: `span ${useGridSpan(props.gridSpan)}`,\n      }}\n      className={cls({\n        [`${prefixCls}`]: true,\n        // FormLayout有direction属性则不根据FormItem的direction属性, FormLayout已经对children做了一层\n        [`${semiRtlPrefixCls}`]: direction === 'rtl',\n        [`${prefixCls}-layout-${layout}`]: true,\n        [`${prefixCls}-${feedbackStatus}`]: !!feedbackStatus,\n        [`${prefixCls}-feedback-has-text`]: !!feedbackText,\n        [`${prefixCls}-size-${size}`]: !!size,\n        [`${prefixCls}-feedback-layout-${feedbackLayout}`]: !!feedbackLayout,\n        [`${prefixCls}-fullness`]: !!fullness || !!inset || !!feedbackIcon,\n        [`${prefixCls}-inset`]: !!inset,\n        [`${prefixCls}-active`]: active,\n        [`${prefixCls}-inset-active`]: !!inset && active,\n        [`${prefixCls}-label-align-${labelAlign}`]: true,\n        [`${prefixCls}-control-align-${wrapperAlign}`]: true,\n        [`${prefixCls}-label-wrap`]: !!labelWrap,\n        [`${prefixCls}-control-wrap`]: !!wrapperWrap,\n        [`${prefixCls}-bordered-none`]:\n          bordered === false || !!inset || !!feedbackIcon,\n        [props.className ?? '']: !!props.className,\n      })}\n      onFocus={() => {\n        if (feedbackIcon || inset) {\n          setActice(true)\n        }\n      }}\n      onBlur={() => {\n        if (feedbackIcon || inset) {\n          setActice(false)\n        }\n      }}\n    >\n      {label !== undefined && (\n        <div\n          className={cls({\n            [`${prefixCls}-label`]: true,\n            [`${prefixCls}-label-tooltip`]: tooltip && tooltipLayout === 'text',\n            [`${prefixCls}-item-col-${labelCol}`]: enableCol && !!labelCol,\n          })}\n          style={labelStyle}\n        >\n          {tooltipLayout === 'text' ? (\n            <Tooltip\n              position=\"top\"\n              content={tooltip}\n              getPopupContainer={() => popoverContainerRef.current as any}\n              {...tooltipProps}\n            >\n              {labelChildren}\n            </Tooltip>\n          ) : (\n            labelChildren\n          )}\n          {tooltip && tooltipLayout === 'icon' && (\n            <span className={cls(`${prefixCls}-label-tooltip`)}>\n              <Tooltip\n                position=\"top\"\n                content={tooltip}\n                getPopupContainer={() => popoverContainerRef.current as any}\n                {...tooltipProps}\n              >\n                <IconQuestionCircle />\n              </Tooltip>\n            </span>\n          )}\n          {label && (\n            <span className={cls(`${prefixCls}-colon`)}>\n              {colon ? ':' : ''}\n            </span>\n          )}\n        </div>\n      )}\n\n      <div\n        className={cls({\n          [`${prefixCls}-control`]: true,\n          [`${prefixCls}-item-col-${wrapperCol}`]:\n            enableCol && !!wrapperCol && label,\n        })}\n      >\n        <div className={cls(`${prefixCls}-control-content`)}>\n          {addonBefore && (\n            <div className={cls(`${prefixCls}-addon-before`)}>\n              {addonBefore}\n            </div>\n          )}\n          <div\n            style={wrapperStyle}\n            className={cls({\n              [`${prefixCls}-control-content-component`]: true,\n              [`${prefixCls}-control-content-component-has-feedback-icon`]:\n                !!feedbackIcon,\n            })}\n          >\n            <FormLayoutShallowContext.Provider\n              value={reduce(\n                shallowFormLayout,\n                (buf: any, _, key) => {\n                  if (key === 'size') {\n                    buf.size = size\n                  } else {\n                    buf[key] = undefined\n                  }\n                  return buf\n                },\n                {\n                  size,\n                }\n              )}\n            >\n              {formatChildren}\n            </FormLayoutShallowContext.Provider>\n            {feedbackIcon && (\n              <div className={cls(`${prefixCls}-feedback-icon`)}>\n                {feedbackIcon}\n              </div>\n            )}\n          </div>\n          {addonAfter && (\n            <div className={cls(`${prefixCls}-addon-after`)}>{addonAfter}</div>\n          )}\n        </div>\n        {!!feedbackText &&\n          feedbackLayout !== 'popover' &&\n          feedbackLayout !== 'none' && (\n            <div\n              className={cls({\n                [`${prefixCls}-${feedbackStatus}-help`]: !!feedbackStatus,\n                [`${prefixCls}-help`]: true,\n                [`${prefixCls}-help-enter`]: true,\n                [`${prefixCls}-help-enter-active`]: true,\n              })}\n            >\n              {feedbackText}\n            </div>\n          )}\n        {extra && <div className={cls(`${prefixCls}-extra`)}>{extra}</div>}\n      </div>\n    </div>\n  )\n}\nexport const FormItem: ComposeFormItem = Object.assign(\n  connect(\n    BaseItem,\n    mapProps((props, field) => {\n      if (isVoidField(field))\n        return {\n          label: field.title || props.label,\n          asterisk: props.asterisk,\n          extra: props.extra || field.description,\n        }\n      if (!field) return props\n      const takeFeedbackStatus = () => {\n        if (field.validating) return 'pending'\n        return field.decoratorProps.feedbackStatus || field.validateStatus\n      }\n      const takeMessage = () => {\n        const split = (messages: any[]) => {\n          return messages.reduce((buf, text, index) => {\n            if (!text) return buf\n            return index < messages.length - 1\n              ? buf.concat([text, ', '])\n              : buf.concat([text])\n          }, [])\n        }\n        if (field.validating) return\n        if (props.feedbackText) return props.feedbackText\n        if (field.selfErrors.length) return split(field.selfErrors)\n        if (field.selfWarnings.length) return split(field.selfWarnings)\n        if (field.selfSuccesses.length) return split(field.selfSuccesses)\n      }\n      const takeAsterisk = () => {\n        if (field.required && field.pattern !== 'readPretty') {\n          return true\n        }\n        if ('asterisk' in props) {\n          return props.asterisk\n        }\n        return false\n      }\n      return {\n        label: props.label || field.title,\n        feedbackStatus: takeFeedbackStatus(),\n        feedbackText: takeMessage(),\n        asterisk: takeAsterisk(),\n        extra: props.extra || field.description,\n      }\n    })\n  ),\n  {\n    BaseItem,\n  }\n)\nexport default FormItem\n"]}