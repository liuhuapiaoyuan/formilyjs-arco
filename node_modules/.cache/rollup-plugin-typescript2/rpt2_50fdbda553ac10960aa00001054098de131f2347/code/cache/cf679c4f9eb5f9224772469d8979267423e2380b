{"code":"import { __awaiter, __generator } from \"tslib\";\r\nimport React from 'react';\r\nimport { Spin, Message } from '@arco-design/web-react';\r\nexport var loading = function (title, processor) {\r\n    if (title === void 0) { title = 'Loading...'; }\r\n    return __awaiter(void 0, void 0, void 0, function () {\r\n        var hide, loading;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    hide = null;\r\n                    loading = setTimeout(function () {\r\n                        hide = Message.info({\r\n                            content: title,\r\n                            icon: React.createElement(Spin, null),\r\n                            duration: 300,\r\n                        });\r\n                    }, 100);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, , 3, 4]);\r\n                    return [4 /*yield*/, processor()];\r\n                case 2: return [2 /*return*/, _a.sent()];\r\n                case 3:\r\n                    hide === null || hide === void 0 ? void 0 : hide(hide);\r\n                    clearTimeout(loading);\r\n                    return [7 /*endfinally*/];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n};\r\n//# sourceMappingURL=loading.js.map","references":["H:/projects/formilyjs-arco/node_modules/@types/react/index.d.ts","H:/projects/formilyjs-arco/node_modules/@arco-design/web-react/es/index.d.ts"],"map":"{\"version\":3,\"file\":\"loading.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/__builtins__/loading.tsx\"],\"names\":[],\"mappings\":\";AAAA,OAAO,KAAK,MAAM,OAAO,CAAA;AACzB,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,wBAAwB,CAAA;AAEtD,MAAM,CAAC,IAAM,OAAO,GAAG,UACrB,KAAqC,EACrC,SAA6B;IAD7B,sBAAA,EAAA,oBAAqC;;;;;;oBAGjC,IAAI,GAAG,IAAI,CAAA;oBACX,OAAO,GAAG,UAAU,CAAC;wBACvB,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;4BAClB,OAAO,EAAE,KAAK;4BACd,IAAI,EAAE,oBAAC,IAAI,OAAG;4BACd,QAAQ,EAAE,GAAG;yBACd,CAAC,CAAA;oBACJ,CAAC,EAAE,GAAG,CAAC,CAAA;;;;oBAEE,qBAAM,SAAS,EAAE,EAAA;wBAAxB,sBAAO,SAAiB,EAAA;;oBAExB,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAG,IAAI,CAAC,CAAA;oBACZ,YAAY,CAAC,OAAO,CAAC,CAAA;;;;;;CAExB,CAAA\",\"sourcesContent\":[\"import React from 'react'\\nimport { Spin, Message } from '@arco-design/web-react'\\n\\nexport const loading = async (\\n  title: React.ReactNode = 'Loading...',\\n  processor: () => Promise<any>\\n) => {\\n  let hide = null\\n  let loading = setTimeout(() => {\\n    hide = Message.info({\\n      content: title,\\n      icon: <Spin />,\\n      duration: 300,\\n    })\\n  }, 100)\\n  try {\\n    return await processor()\\n  } finally {\\n    hide?.(hide)\\n    clearTimeout(loading)\\n  }\\n}\\n\"]}"}
