{"code":"import React, { createContext, useContext } from 'react';\r\nimport { isPlainObj, isArr, isValid } from '@formily/shared';\r\nimport { observer, useField } from '@formily/react';\r\nimport { Tag, Space } from '@arco-design/web-react';\r\nimport cls from 'classnames';\r\nimport './index.scss';\r\nimport { formatMomentValue, usePrefixCls } from '../__builtins__';\r\nvar PlaceholderContext = createContext('N/A');\r\nvar Placeholder = PlaceholderContext.Provider;\r\nvar usePlaceholder = function (value) {\r\n    var placeholder = useContext(PlaceholderContext) || 'N/A';\r\n    return isValid(value) && value !== '' ? value : placeholder;\r\n};\r\nvar Input = function (props) {\r\n    var prefixCls = usePrefixCls('text');\r\n    return (React.createElement(Space, { className: cls(prefixCls, props.className), style: props.style },\r\n        props.addBefore,\r\n        props.prefix,\r\n        usePlaceholder(props.value),\r\n        props.suffix,\r\n        props.addAfter));\r\n};\r\nvar Select = observer(function (props) {\r\n    var _a;\r\n    var field = useField();\r\n    var prefixCls = usePrefixCls('text');\r\n    var dataSource = ((_a = field === null || field === void 0 ? void 0 : field.dataSource) === null || _a === void 0 ? void 0 : _a.length) ? field.dataSource : [];\r\n    var placeholder = usePlaceholder();\r\n    var getSelected = function () {\r\n        var value = props.value, labelInValue = props.labelInValue;\r\n        if (props.mode == 'multiple') {\r\n            return isArr(value)\r\n                ? value.map(function (val) { return (labelInValue ? val : { label: val, value: val }); })\r\n                : [];\r\n        }\r\n        else {\r\n            return labelInValue && isPlainObj(value)\r\n                ? [value]\r\n                : // 保护value可能为0的情况\r\n                    value !== undefined && value !== null\r\n                        ? [{ label: value, value: value }]\r\n                        : [];\r\n        }\r\n    };\r\n    var getLabels = function () {\r\n        var selected = getSelected();\r\n        if (!selected.length)\r\n            return React.createElement(Tag, null, placeholder);\r\n        return selected.map(function (_a, key) {\r\n            var _b;\r\n            var value = _a.value, label = _a.label;\r\n            var text = ((_b = dataSource === null || dataSource === void 0 ? void 0 : dataSource.find(function (item) { return item.value === value; })) === null || _b === void 0 ? void 0 : _b.label) || label;\r\n            return React.createElement(Tag, { key: key }, text || placeholder);\r\n        });\r\n    };\r\n    return (React.createElement(\"div\", { className: cls(prefixCls, props.className), style: props.style },\r\n        React.createElement(Space, null, getLabels())));\r\n});\r\nvar TreeSelect = observer(function (props) {\r\n    var _a;\r\n    var field = useField();\r\n    var placeholder = usePlaceholder();\r\n    var prefixCls = usePrefixCls('text');\r\n    var dataSource = ((_a = field === null || field === void 0 ? void 0 : field.dataSource) === null || _a === void 0 ? void 0 : _a.length) ? field.dataSource : [];\r\n    var getSelected = function () {\r\n        var value = props.value;\r\n        if (props.multiple) {\r\n            return isArr(value)\r\n                ? value.map(function (val) { return ({ label: val, value: val }); })\r\n                : [];\r\n        }\r\n        else {\r\n            return value ? [{ label: value, value: value }] : [];\r\n        }\r\n    };\r\n    var findLabel = function (value, dataSource) {\r\n        for (var i = 0; i < (dataSource === null || dataSource === void 0 ? void 0 : dataSource.length); i++) {\r\n            var item = dataSource[i];\r\n            if ((item === null || item === void 0 ? void 0 : item.value) === value) {\r\n                return item === null || item === void 0 ? void 0 : item.label;\r\n            }\r\n            else {\r\n                var childLabel = findLabel(value, item === null || item === void 0 ? void 0 : item.children);\r\n                if (childLabel)\r\n                    return childLabel;\r\n            }\r\n        }\r\n    };\r\n    var getLabels = function () {\r\n        var selected = getSelected();\r\n        if (!(selected === null || selected === void 0 ? void 0 : selected.length))\r\n            return React.createElement(Tag, null, placeholder);\r\n        return selected.map(function (_a, key) {\r\n            var value = _a.value, label = _a.label;\r\n            return (React.createElement(Tag, { key: key }, findLabel(value, dataSource) || label || placeholder));\r\n        });\r\n    };\r\n    return (React.createElement(\"div\", { className: cls(prefixCls, props.className), style: props.style }, getLabels()));\r\n});\r\nvar Cascader = observer(function (props) {\r\n    var _a;\r\n    var field = useField();\r\n    var placeholder = usePlaceholder();\r\n    var prefixCls = usePrefixCls('text');\r\n    var dataSource = ((_a = field === null || field === void 0 ? void 0 : field.dataSource) === null || _a === void 0 ? void 0 : _a.length) ? field.dataSource : [];\r\n    var getSelected = function () {\r\n        return isArr(props.value) ? props.value : [];\r\n    };\r\n    var findLabel = function (value, dataSource) {\r\n        for (var i = 0; i < (dataSource === null || dataSource === void 0 ? void 0 : dataSource.length); i++) {\r\n            var item = dataSource[i];\r\n            if ((item === null || item === void 0 ? void 0 : item.value) === value) {\r\n                return item === null || item === void 0 ? void 0 : item.label;\r\n            }\r\n            else {\r\n                var childLabel = findLabel(value, item === null || item === void 0 ? void 0 : item.children);\r\n                if (childLabel)\r\n                    return childLabel;\r\n            }\r\n        }\r\n    };\r\n    var getLabels = function () {\r\n        var selected = getSelected();\r\n        if (!(selected === null || selected === void 0 ? void 0 : selected.length)) {\r\n            return placeholder;\r\n        }\r\n        return selected\r\n            .map(function (value) {\r\n            return findLabel(value, dataSource) || placeholder;\r\n        })\r\n            .join('/');\r\n    };\r\n    return (React.createElement(\"div\", { className: cls(prefixCls, props.className), style: props.style }, getLabels()));\r\n});\r\nvar DatePicker = function (props) {\r\n    var placeholder = usePlaceholder();\r\n    var prefixCls = usePrefixCls('text');\r\n    var getLabels = function () {\r\n        var labels = formatMomentValue(props.value, props.format, placeholder);\r\n        return isArr(labels) ? labels.join('~') : labels;\r\n    };\r\n    return React.createElement(\"div\", { className: cls(prefixCls, props.className) }, getLabels());\r\n};\r\nvar DateRangePicker = function (props) {\r\n    var placeholder = usePlaceholder();\r\n    var prefixCls = usePrefixCls('text');\r\n    var getLabels = function () {\r\n        var labels = formatMomentValue(props.value, props.format, placeholder);\r\n        return isArr(labels) ? labels.join('~') : labels;\r\n    };\r\n    return (React.createElement(\"div\", { className: cls(prefixCls, props.className), style: props.style }, getLabels()));\r\n};\r\nvar TimePicker = function (props) {\r\n    var placeholder = usePlaceholder();\r\n    var prefixCls = usePrefixCls('text');\r\n    var getLabels = function () {\r\n        var labels = formatMomentValue(props.value, props.format, placeholder);\r\n        return isArr(labels) ? labels.join('~') : labels;\r\n    };\r\n    return (React.createElement(\"div\", { className: cls(prefixCls, props.className), style: props.style }, getLabels()));\r\n};\r\nvar TimeRangePicker = function (props) {\r\n    var placeholder = usePlaceholder();\r\n    var prefixCls = usePrefixCls('text');\r\n    var getLabels = function () {\r\n        var labels = formatMomentValue(props.value, props.format, placeholder);\r\n        return isArr(labels) ? labels.join('~') : labels;\r\n    };\r\n    return (React.createElement(\"div\", { className: cls(prefixCls, props.className), style: props.style }, getLabels()));\r\n};\r\nvar Text = function (props) {\r\n    var prefixCls = usePrefixCls('text');\r\n    return (React.createElement(\"div\", { className: cls(prefixCls, props.className), style: props.style }, usePlaceholder(props.value)));\r\n};\r\nText.Input = Input;\r\nText.Select = Select;\r\nText.TreeSelect = TreeSelect;\r\nText.Cascader = Cascader;\r\nText.DatePicker = DatePicker;\r\nText.DateRangePicker = DateRangePicker;\r\nText.TimePicker = TimePicker;\r\nText.TimeRangePicker = TimeRangePicker;\r\nText.Placeholder = Placeholder;\r\nText.usePlaceholder = usePlaceholder;\r\nexport var PreviewText = Text;\r\nexport default PreviewText;\r\n//# sourceMappingURL=index.js.map","references":["H:/projects/formilyjs-arco/node_modules/@types/react/index.d.ts","H:/projects/formilyjs-arco/node_modules/@formily/shared/esm/index.d.ts","H:/projects/formilyjs-arco/node_modules/@formily/core/esm/index.d.ts","H:/projects/formilyjs-arco/node_modules/@formily/react/esm/index.d.ts","H:/projects/formilyjs-arco/node_modules/@arco-design/web-react/es/input/index.d.ts","H:/projects/formilyjs-arco/node_modules/@arco-design/web-react/es/select/index.d.ts","H:/projects/formilyjs-arco/node_modules/@arco-design/web-react/es/treeSelect/index.d.ts","H:/projects/formilyjs-arco/node_modules/@arco-design/web-react/es/cascader/index.d.ts","H:/projects/formilyjs-arco/node_modules/@arco-design/web-react/es/datePicker/index.d.ts","H:/projects/formilyjs-arco/node_modules/@arco-design/web-react/es/timePicker/index.d.ts","H:/projects/formilyjs-arco/node_modules/@arco-design/web-react/es/index.d.ts","H:/projects/formilyjs-arco/node_modules/classnames/index.d.ts","H:/projects/formilyjs-arco/packages/components/src/__builtins__/index.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/preview-text/index.tsx\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"import React, { createContext, useContext } from 'react'\\nimport { isPlainObj, isArr, isValid } from '@formily/shared'\\nimport { Field } from '@formily/core'\\nimport { observer, useField } from '@formily/react'\\nimport { InputProps } from '@arco-design/web-react/es/input'\\nimport { SelectProps } from '@arco-design/web-react/es/select'\\nimport { TreeSelectProps } from '@arco-design/web-react/es/treeSelect'\\nimport { CascaderProps } from '@arco-design/web-react/es/cascader'\\nimport { DatePickerProps } from '@arco-design/web-react/es/datePicker'\\nimport { TimePickerProps } from '@arco-design/web-react/es/timePicker'\\nimport { Tag, Space } from '@arco-design/web-react'\\nimport cls from 'classnames'\\n\\nimport './index.scss'\\nimport { formatMomentValue, usePrefixCls } from '../__builtins__'\\n\\nconst PlaceholderContext = createContext<React.ReactNode>('N/A')\\n\\nconst Placeholder = PlaceholderContext.Provider\\n\\nconst usePlaceholder = (value?: any) => {\\n  const placeholder = useContext(PlaceholderContext) || 'N/A'\\n  return isValid(value) && value !== '' ? value : placeholder\\n}\\n\\nconst Input: React.FC<InputProps> = (props) => {\\n  const prefixCls = usePrefixCls('text')\\n  return (\\n    <Space className={cls(prefixCls, props.className)} style={props.style}>\\n      {props.addBefore}\\n      {props.prefix}\\n      {usePlaceholder(props.value)}\\n      {props.suffix}\\n      {props.addAfter}\\n    </Space>\\n  )\\n}\\n\\nconst Select: React.FC<SelectProps> = observer((props) => {\\n  const field = useField<Field>()\\n  const prefixCls = usePrefixCls('text')\\n  const dataSource: any[] = field?.dataSource?.length ? field.dataSource : []\\n  const placeholder = usePlaceholder()\\n  const getSelected = () => {\\n    const { value, labelInValue } = props\\n    if (props.mode == 'multiple') {\\n      return isArr(value)\\n        ? value.map((val) => (labelInValue ? val : { label: val, value: val }))\\n        : []\\n    } else {\\n      return labelInValue && isPlainObj(value)\\n        ? [value]\\n        : // 保护value可能为0的情况\\n        value !== undefined && value !== null\\n        ? [{ label: value, value }]\\n        : []\\n    }\\n  }\\n\\n  const getLabels = () => {\\n    const selected = getSelected()\\n    if (!selected.length) return <Tag>{placeholder}</Tag>\\n    return selected.map(({ value, label }, key) => {\\n      const text =\\n        dataSource?.find((item) => item.value === value)?.label || label\\n      return <Tag key={key}>{text || placeholder}</Tag>\\n    })\\n  }\\n  return (\\n    <div className={cls(prefixCls, props.className)} style={props.style}>\\n      <Space>{getLabels()}</Space>\\n    </div>\\n  )\\n})\\n\\nconst TreeSelect: React.FC<TreeSelectProps> = observer((props) => {\\n  const field = useField<Field>()\\n  const placeholder = usePlaceholder()\\n  const prefixCls = usePrefixCls('text')\\n  const dataSource = field?.dataSource?.length ? field.dataSource : []\\n  const getSelected = () => {\\n    const value = props.value\\n    if (props.multiple) {\\n      return isArr(value)\\n        ? value.map((val) => ({ label: val, value: val }))\\n        : []\\n    } else {\\n      return value ? [{ label: value, value }] : []\\n    }\\n  }\\n\\n  const findLabel = (value: any, dataSource: any[]) => {\\n    for (let i = 0; i < dataSource?.length; i++) {\\n      const item = dataSource[i]\\n      if (item?.value === value) {\\n        return item?.label\\n      } else {\\n        const childLabel = findLabel(value, item?.children)\\n        if (childLabel) return childLabel\\n      }\\n    }\\n  }\\n\\n  const getLabels = () => {\\n    const selected = getSelected()\\n    if (!selected?.length) return <Tag>{placeholder}</Tag>\\n    return selected.map(({ value, label }, key) => {\\n      return (\\n        <Tag key={key}>\\n          {findLabel(value, dataSource) || label || placeholder}\\n        </Tag>\\n      )\\n    })\\n  }\\n  return (\\n    <div className={cls(prefixCls, props.className)} style={props.style}>\\n      {getLabels()}\\n    </div>\\n  )\\n})\\n\\nconst Cascader: React.FC<CascaderProps> = observer((props) => {\\n  const field = useField<Field>()\\n  const placeholder = usePlaceholder()\\n  const prefixCls = usePrefixCls('text')\\n  const dataSource: any[] = field?.dataSource?.length ? field.dataSource : []\\n  const getSelected = () => {\\n    return isArr(props.value) ? props.value : []\\n  }\\n  const findLabel = (value: any, dataSource: any[]) => {\\n    for (let i = 0; i < dataSource?.length; i++) {\\n      const item = dataSource[i]\\n      if (item?.value === value) {\\n        return item?.label\\n      } else {\\n        const childLabel = findLabel(value, item?.children)\\n        if (childLabel) return childLabel\\n      }\\n    }\\n  }\\n  const getLabels = () => {\\n    const selected = getSelected()\\n    if (!selected?.length) {\\n      return placeholder\\n    }\\n    return selected\\n      .map((value) => {\\n        return findLabel(value, dataSource) || placeholder\\n      })\\n      .join('/')\\n  }\\n  return (\\n    <div className={cls(prefixCls, props.className)} style={props.style}>\\n      {getLabels()}\\n    </div>\\n  )\\n})\\n\\nconst DatePicker: React.FC<DatePickerProps> = (props) => {\\n  const placeholder = usePlaceholder()\\n  const prefixCls = usePrefixCls('text')\\n  const getLabels = () => {\\n    const labels = formatMomentValue(props.value, props.format, placeholder)\\n    return isArr(labels) ? labels.join('~') : labels\\n  }\\n  return <div className={cls(prefixCls, props.className)}>{getLabels()}</div>\\n}\\n\\nconst DateRangePicker: React.FC<DatePickerProps> = (props) => {\\n  const placeholder = usePlaceholder()\\n  const prefixCls = usePrefixCls('text')\\n  const getLabels = () => {\\n    const labels = formatMomentValue(props.value, props.format, placeholder)\\n    return isArr(labels) ? labels.join('~') : labels\\n  }\\n  return (\\n    <div className={cls(prefixCls, props.className)} style={props.style}>\\n      {getLabels()}\\n    </div>\\n  )\\n}\\n\\nconst TimePicker: React.FC<TimePickerProps> = (props) => {\\n  const placeholder = usePlaceholder()\\n  const prefixCls = usePrefixCls('text')\\n  const getLabels = () => {\\n    const labels = formatMomentValue(props.value, props.format, placeholder)\\n    return isArr(labels) ? labels.join('~') : labels\\n  }\\n  return (\\n    <div className={cls(prefixCls, props.className)} style={props.style}>\\n      {getLabels()}\\n    </div>\\n  )\\n}\\n\\nconst TimeRangePicker: React.FC<TimePickerProps> = (props) => {\\n  const placeholder = usePlaceholder()\\n  const prefixCls = usePrefixCls('text')\\n  const getLabels = () => {\\n    const labels = formatMomentValue(props.value, props.format, placeholder)\\n    return isArr(labels) ? labels.join('~') : labels\\n  }\\n  return (\\n    <div className={cls(prefixCls, props.className)} style={props.style}>\\n      {getLabels()}\\n    </div>\\n  )\\n}\\n\\nconst Text = (props: React.PropsWithChildren<any>) => {\\n  const prefixCls = usePrefixCls('text')\\n\\n  return (\\n    <div className={cls(prefixCls, props.className)} style={props.style}>\\n      {usePlaceholder(props.value)}\\n    </div>\\n  )\\n}\\n\\nText.Input = Input\\nText.Select = Select\\nText.TreeSelect = TreeSelect\\nText.Cascader = Cascader\\nText.DatePicker = DatePicker\\nText.DateRangePicker = DateRangePicker\\nText.TimePicker = TimePicker\\nText.TimeRangePicker = TimeRangePicker\\nText.Placeholder = Placeholder\\nText.usePlaceholder = usePlaceholder\\n\\nexport const PreviewText = Text\\n\\nexport default PreviewText\\n\"]}"}
